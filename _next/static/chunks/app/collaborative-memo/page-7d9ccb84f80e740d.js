(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[261],{5408:(e,t,a)=>{Promise.resolve().then(a.bind(a,5640))},5640:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var r=a(5155),n=a(8818),o=a(6754),l=a(2115),s=a(2938),d=a(2187),c=a(6693);function i(){let{memoA:e,memoB:t,setMemoA:a,setMemoB:i}=function(e){let[t,a]=(0,l.useState)(""),[r,n]=(0,l.useState)(""),o=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let t=new d.JA,r=new s.$R("wss://demos.yjs.dev",e,t),l=t.getText("memoA"),c=t.getText("memoB"),i=()=>a(l.toString()),u=()=>n(c.toString());return l.observe(i),c.observe(u),i(),u(),o.current=t,()=>{l.unobserve(i),c.unobserve(u),r.destroy(),t.destroy()}},[e]),{memoA:t,memoB:r,setMemoA:e=>{o.current&&(o.current.getText("memoA").delete(0,t.length),o.current.getText("memoA").insert(0,e))},setMemoB:e=>{o.current&&(o.current.getText("memoB").delete(0,r.length),o.current.getText("memoB").insert(0,e))}}}("shared-memo-room-001");return(0,r.jsx)(c.A,{left:(0,r.jsx)(n.G,{}),centerTitle:"作業者Aのメモ",centerContent:(0,r.jsx)(o.T,{className:"h-full flex-1 font-mono shadow-none dark:bg-gray-800",placeholder:"Aさんはこちらにメモ",value:e,onChange:e=>a(e.target.value)}),rightTitle:"作業者Bのメモ",rightContent:(0,r.jsx)(o.T,{className:"h-full flex-1 font-mono shadow-none dark:bg-gray-800",placeholder:"Bさんはこちらにメモ",value:t,onChange:e=>i(e.target.value)})})}},6754:(e,t,a)=>{"use strict";a.d(t,{T:()=>i});var r=a(5155),n=a(1567),o=a(8867),l=a(3920),s=a(4857),d=a(767),c=a(2115);let i=c.forwardRef((e,t)=>{var a;let{className:i,showClearButton:u=!1,showCopyButton:x=!1,showDownloadButton:m=!1,downloadFileName:h="download",downloadFileExtension:g="txt",wrapperClassName:b,value:v,onChange:f,disabled:p,...w}=e,y=void 0!==v,[j,N]=c.useState(null!==(a=w.defaultValue)&&void 0!==a?a:""),[A,T]=c.useState(!1),[k,C]=c.useState(!1),S=y?v:j,B=async()=>{if(S)try{await navigator.clipboard.writeText(S.toString()),T(!0),setTimeout(()=>T(!1),1e3)}catch(e){}};return(0,r.jsxs)("div",{className:(0,n.cn)("relative",b),children:[(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",i),ref:t,value:S,onChange:e=>{y||N(e.target.value),null==f||f(e)},disabled:p,...w}),(u||x||m)&&S&&!p&&(0,r.jsxs)("div",{className:"absolute top-2 right-2 flex gap-1 z-10",children:[x&&(0,r.jsx)("button",{type:"button",onClick:B,className:(0,n.cn)("text-gray-400 hover:text-blue-600 dark:hover:text-blue-300 p-1 rounded transition",A&&"text-green-500"),tabIndex:-1,"aria-label":"コピー",children:A?(0,r.jsx)(o.A,{className:"w-4 h-4"}):(0,r.jsx)(l.A,{className:"w-4 h-4"})}),m&&(0,r.jsx)("button",{type:"button",onClick:()=>{if(!S)return;let e=new Blob(["string"==typeof S?S:Array.isArray(S)?S.join("\n"):String(S)],{type:"text/plain;charset=utf-8"}),t=(g||"txt").replace(/^\./,""),a="".concat(h||"download",".").concat(t),r=window.URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=a,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(r),C(!0),setTimeout(()=>C(!1),1200)},className:(0,n.cn)("text-gray-400 hover:text-teal-600 dark:hover:text-teal-300 p-1 rounded transition",k&&"text-green-500"),tabIndex:-1,"aria-label":"ダウンロード（".concat(h,".").concat(g,"）"),children:k?(0,r.jsx)(o.A,{className:"w-4 h-4"}):(0,r.jsx)(s.A,{className:"w-4 h-4"})}),u&&(0,r.jsx)("button",{type:"button",onClick:()=>{y||N(""),y&&f&&f({...new Event("change"),target:{value:""}})},className:"text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 p-1 rounded",tabIndex:-1,"aria-label":"入力をクリア",children:(0,r.jsx)(d.A,{className:"w-4 h-4"})})]})]})});i.displayName="Textarea"}},e=>{var t=t=>e(e.s=t);e.O(0,[375,882,895,502,441,517,358],()=>t(5408)),_N_E=e.O()}]);