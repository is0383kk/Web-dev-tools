(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[834],{9595:(e,t,r)=>{Promise.resolve().then(r.bind(r,3733))},1594:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(7401).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3920:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(7401).A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},4857:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(7401).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},3733:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var a=r(5155),l=r(2410),s=r(8002),n=r(3312),i=r(9749),o=r(6754),c=r(6693),d=r(4857),u=r(1594),m=r(8867),p=r(3920),x=r(2115);function h(e,t){let r=Array.from(new Set(e.map(e=>e.trim()).filter(Boolean))),a=r[0]||"",l=r.map(e=>{if(!t)return"\n    <url>\n      <loc>".concat(e,"</loc>\n    </url>\n    ");{let t=function(e,t){try{let r=new URL(t),a=new URL(e);if(a.origin+a.pathname.replace(/\/$/,"")===r.origin+r.pathname.replace(/\/$/,""))return"1.0";let l=a.pathname.replace(/^\/|\/$/g,""),s=l?l.split("/").length:0;if(1===s)return"0.8";if(2===s)return"0.6";return"0.4"}catch(e){return"0.5"}}(e,a);return"\n    <url>\n      <loc>".concat(e,"</loc>\n      <priority>").concat(t,"</priority>\n    </url>\n    ")}}).join("");return'<?xml version="1.0" encoding="UTF-8"?>\n<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">\n'.concat(l,"\n</urlset>")}function f(){let[e,t]=(0,x.useState)(""),[r,f]=(0,x.useState)("https://example.com/\nhttps://example.com/about"),[g,y]=(0,x.useState)(!0),[b,v]=(0,x.useState)(h(r.split("\n"),!0)),[j,w]=(0,x.useState)(""),[N,k]=(0,x.useState)(!1),[A,L]=(0,x.useState)(!1),R=async()=>{L(!0),w("");try{var t;let r=e.replace(/\/+$/,""),a=await fetch(r+"/sitemap.xml");if(!a.ok)throw Error("sitemap.xmlが見つかりません。");let l=(t=await a.text(),Array.from(t.matchAll(/<loc>(.*?)<\/loc>/g),e=>e[1]));if(0===l.length)throw Error("sitemap.xmlからURLが抽出できませんでした");f(l.join("\n")),v(h(l,g)),w("")}catch(e){w("".concat(e instanceof Error?e.message:String(e),"：取得に失敗しました（CORS制限により取得できない場合があります）"))}finally{L(!1)}},T=e=>{f(e);let t=e.split("\n").map(e=>e.trim()).filter(Boolean);if(t.some(e=>!/^https?:\/\/[\w\-.]+/.test(e))){w("URLは http:// または https:// から始めてください。"),v("");return}v(h(t,g)),w("")},C=e=>{y(e),v(h(r.split("\n").map(e=>e.trim()).filter(Boolean),e))},U=async()=>{if(b)try{await navigator.clipboard.writeText(b),k(!0),setTimeout(()=>k(!1),1200)}catch(e){}};return(0,a.jsx)(c.A,{left:(0,a.jsx)(l.G,{}),centerTitle:"サイトマップ作成ツール",centerContent:(0,a.jsxs)("div",{className:"flex flex-col h-full space-y-2",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{id:"withPriority",type:"checkbox",checked:g,onChange:e=>C(e.target.checked),className:"accent-blue-600"}),(0,a.jsx)("label",{htmlFor:"withPriority",className:"text-sm",children:"priorityタグを自動で付与する"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",className:"border rounded px-2 py-1 w-full text-sm dark:bg-gray-800 dark:text-gray-200",placeholder:"ドメインを入力（例：https://example.com）",value:e,onChange:e=>t(e.target.value)}),(0,a.jsxs)(n.$,{type:"button",size:"sm",onClick:R,disabled:A||!e,children:["サイトマップ取得",(0,a.jsx)(d.A,{className:"w-4 h-4 ml-1"})]})]}),(0,a.jsxs)("div",{className:"mb-2 text-xs text-muted-foreground",children:[(0,a.jsx)("p",{children:"・priorityタグを付けない場合はチェックを外してください。"}),(0,a.jsx)("p",{children:"・自動取得できない場合は手入力でもOKです。"}),(0,a.jsx)("p",{children:"・1行ごとにページURLを入力してください。"})]})]}),j&&(0,a.jsxs)(s.Fc,{variant:"destructive",className:"dark:bg-slate-800 text-red-500",children:[(0,a.jsx)(u.A,{}),(0,a.jsx)(s.XL,{children:"エラー"}),(0,a.jsx)(s.TN,{children:(0,a.jsx)("p",{children:j})})]}),(0,a.jsx)(o.T,{className:"flex-1 font-mono shadow-none focus:ring-0 focus:border-gray-300 dark:focus:border-gray-600 dark:bg-gray-800 dark:text-gray-200",placeholder:"1行ごとにURLを入力してください（例：https://example.com/）",value:r,onChange:e=>T(e.target.value)})]}),rightTitle:"サイトマップXML",rightContent:(0,a.jsxs)(i.Zp,{className:"p-4 h-full overflow-y-auto border border-border rounded-md shadow-none relative",children:[(0,a.jsxs)(n.$,{type:"button",size:"icon",variant:"outline",className:"absolute top-2 right-14 z-10",onClick:U,disabled:!b,tabIndex:0,title:"コピー",children:[N?(0,a.jsx)(m.A,{className:"w-5 h-5 text-green-500"}):(0,a.jsx)(p.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"sr-only",children:"出力をコピー"})]}),(0,a.jsxs)(n.$,{type:"button",size:"icon",variant:"outline",className:"absolute top-2 right-2 z-10",onClick:()=>{if(!b)return;let e=new Blob([b],{type:"application/xml"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="sitemap.xml",r.click(),setTimeout(()=>URL.revokeObjectURL(t),500)},disabled:!b,tabIndex:0,title:"XMLをダウンロード",children:[(0,a.jsx)(d.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"sr-only",children:"ダウンロード"})]}),(0,a.jsx)(o.T,{className:"w-full h-full min-h-[300px] font-mono bg-transparent resize-none outline-none border-0 focus:ring-0 focus:border-none",value:b||"",placeholder:"ここにサイトマップXMLが表示されます",readOnly:!0})]})})}},8002:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>o,TN:()=>d,XL:()=>c});var a=r(5155),l=r(2115),s=r(1027),n=r(1567);let i=(0,s.F)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=l.forwardRef((e,t)=>{let{className:r,variant:l,...s}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,n.cn)(i({variant:l}),r),...s})});o.displayName="Alert";let c=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("h5",{ref:t,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",r),...l})});c.displayName="AlertTitle";let d=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",r),...l})});d.displayName="AlertDescription"},6754:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});var a=r(5155),l=r(2115),s=r(1567);let n=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("textarea",{className:(0,s.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...l})});n.displayName="Textarea"}},e=>{var t=t=>e(e.s=t);e.O(0,[799,122,625,693,441,517,358],()=>t(9595)),_N_E=e.O()}]);