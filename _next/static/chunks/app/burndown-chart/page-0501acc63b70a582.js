(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[475],{32689:(e,a,r)=>{Promise.resolve().then(r.bind(r,73638))},73638:(e,a,r)=>{"use strict";r.d(a,{default:()=>j});var s=r(95155),t=r(75269),l=r(12115),d=r(76981),n=r(5196),c=r(59434);let o=l.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)(d.bL,{ref:a,className:(0,c.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...t,children:(0,s.jsx)(d.C1,{className:(0,c.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})})});o.displayName=d.bL.displayName;var i=r(62523),x=r(85057),m=r(79524),u=r(2348),h=r(40714),g=r(79982),f=r(78064),b=r(91788);let p=(0,r(55028).default)(()=>Promise.all([r.e(428),r.e(448)]).then(r.bind(r,89448)),{loadableGenerated:{webpack:()=>[89448]},ssr:!1,loading:()=>(0,s.jsx)("div",{style:{height:340},children:"Loading..."})});function v(e){return(0,u.GP)(e,"yyyy-MM-dd")}function j(){let[e,a]=(0,l.useState)(new Date),[r,d]=(0,l.useState)((0,h.f)(new Date,7)),[n,c]=(0,l.useState)(14),j=(0,l.useMemo)(()=>Math.max(1,(0,g.m)(r,e)),[e,r]),y=(e,a)=>Array.from({length:a+1},(r,s)=>Math.max(e-Math.round(e/a*s),0)),[N,w]=(0,l.useState)([]),[k,C]=(0,l.useState)([]),[M,P]=(0,l.useState)([]);(0,l.useEffect)(()=>{let e=y(n,j);P(e),w(e),C(e)},[n,j]);let[S,A]=(0,l.useState)(!0),[_,E]=(0,l.useState)(!0),[G,D]=(0,l.useState)(!0),J=(0,l.useRef)(null),L=async()=>{if(!J.current)return;let a=await (0,f.$E)(J.current,{backgroundColor:"#fff"}),r=document.createElement("a");r.href=a,r.download="burndown-chart_".concat((0,u.GP)(e,"yyyyMMdd"),".png"),r.click()},O=(0,s.jsxs)("div",{className:"flex flex-col h-full gap-6 p-2 md:p-4",children:[(0,s.jsxs)("section",{className:"flex flex-wrap gap-4 items-end bg-muted/40 rounded-xl p-4 border",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)(x.J,{className:"text-sm font-medium",children:"開始日"}),(0,s.jsx)(i.p,{type:"date",value:v(e),onChange:e=>a(new Date(e.target.value)),className:"w-[150px] border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-800"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)(x.J,{className:"text-sm font-medium",children:"終了日"}),(0,s.jsx)(i.p,{type:"date",value:v(r),onChange:e=>d(new Date(e.target.value)),className:"w-[150px] border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-800"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)(x.J,{className:"text-sm font-medium",children:"総ポイント数"}),(0,s.jsx)(i.p,{type:"number",min:0,max:1e3,value:n,onChange:e=>c(Number(e.target.value)),className:"w-[100px] border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-800"})]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground ",children:"※ 期間やポイント数を変更すると、計画線・実績線もリセットされます"})]}),(0,s.jsxs)("section",{className:"border rounded-xl bg-muted/10 p-3 flex flex-col gap-2",children:[(0,s.jsx)("div",{className:"font-medium text-sm mb-1 text-muted-foreground",children:"計画線入力（残ポイント数を入力）"}),(0,s.jsx)("div",{className:"flex gap-2 overflow-x-auto",children:Array.from({length:j+1}).map((a,r)=>{var t;let l=(0,h.f)(e,r);return(0,s.jsxs)("div",{className:"flex flex-col items-center text-xs min-w-[64px]",children:[(0,s.jsx)("div",{className:"mb-1 text-[14px]",children:(0,u.GP)(l,"MM/dd")}),(0,s.jsx)(i.p,{type:"number",min:0,className:"w-14 h-8 text-center border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-800",value:null!=(t=N[r])?t:"",onChange:e=>{let a=[...N];a[r]=Number(e.target.value),w(a)}})]},r)})})]}),(0,s.jsxs)("section",{className:"border rounded-xl bg-muted/10 p-3 flex flex-col gap-2",children:[(0,s.jsx)("div",{className:"font-medium text-sm mb-1 text-muted-foreground",children:"実績線入力（残ポイント数を入力）"}),(0,s.jsx)("div",{className:"flex gap-2 overflow-x-auto",children:Array.from({length:j+1}).map((a,r)=>{var t;let l=(0,h.f)(e,r);return(0,s.jsxs)("div",{className:"flex flex-col items-center text-xs min-w-[64px]",children:[(0,s.jsx)("div",{className:"mb-1 text-[14px]",children:(0,u.GP)(l,"MM/dd")}),(0,s.jsx)(i.p,{type:"number",min:0,className:"w-14 h-8 text-center border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-800",value:null!=(t=k[r])?t:"",onChange:e=>{let a=[...k];a[r]=Number(e.target.value),C(a)}})]},r)})})]})]}),R=(0,s.jsxs)("div",{className:"flex items-center justify-start w-full pr-1 gap-2",children:[(0,s.jsx)("span",{children:"バーンダウンチャート"}),(0,s.jsx)("div",{className:"flex-1 items-center",children:(0,s.jsx)("button",{className:"flex items-center justify-center w-8 h-8 rounded-md bg-muted hover:bg-muted/80 transition-colors",onClick:L,children:(0,s.jsx)(b.A,{className:"w-4 h-4"})})})]}),T=(0,s.jsxs)("div",{className:"flex flex-col gap-2 px-1 pt-2",children:[(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 mb-2 items-center",children:[(0,s.jsxs)("label",{className:"flex items-center gap-1 text-xs font-medium",children:[(0,s.jsx)(o,{checked:S,onCheckedChange:e=>A(!0===e)}),"計画線"]}),(0,s.jsxs)("label",{className:"flex items-center gap-1 text-xs font-medium",children:[(0,s.jsx)(o,{checked:_,onCheckedChange:e=>E(!0===e)}),"理想線"]}),(0,s.jsxs)("label",{className:"flex items-center gap-1 text-xs font-medium",children:[(0,s.jsx)(o,{checked:G,onCheckedChange:e=>D(!0===e)}),"実績線"]})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsx)(p,{ref:J,planPoints:N,idealPoints:M,actualPoints:k,start:e,end:r,showPlan:S,showIdeal:_,showActual:G})})]});return(0,s.jsx)(m.A,{left:(0,s.jsx)(t.G,{}),centerTitle:"予実入力",centerContent:O,rightTitle:R,rightContent:T})}},85057:(e,a,r)=>{"use strict";r.d(a,{J:()=>d});var s=r(95155),t=r(40968);r(12115);var l=r(59434);function d(e){let{className:a,...r}=e;return(0,s.jsx)(t.b,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...r})}}},e=>{var a=a=>e(e.s=a);e.O(0,[116,779,608,441,684,358],()=>a(32689)),_N_E=e.O()}]);