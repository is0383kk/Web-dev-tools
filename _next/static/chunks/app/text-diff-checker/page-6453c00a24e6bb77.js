(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[598],{3047:(e,t,a)=>{Promise.resolve().then(a.bind(a,5085))},5085:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var r=a(5155),n=a(2410),s=a(6754),l=a(6693),o=a(821),c=a(2115);function d(){let[e,t]=(0,c.useState)("私の名前は山田です。\nJavaが好きです"),[a,d]=(0,c.useState)("僕の名前は、吉田です。\nJavaScriptが好きです。"),[i,u]=(0,c.useState)(""),[,x]=(0,c.useState)("");function h(e){return e.replace(/[&<>"']/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[e]||e)}return(0,c.useEffect)(()=>{try{x("");let t=new o.diff_match_patch,r=t.diff_main(e,a);t.diff_cleanupSemantic(r);let n=r.map(e=>{let[t,a]=e;return t===o.DIFF_INSERT?'<span class="diff-insert">'.concat(h(a),"</span>"):t===o.DIFF_DELETE?'<span class="diff-delete">'.concat(h(a),"</span>"):"<span>".concat(h(a),"</span>")}).join("");u(n)}catch(e){x("差分計算に失敗しました: "+(e instanceof Error?e.message:"不明なエラー")),u("")}},[e,a]),(0,r.jsx)(l.A,{left:(0,r.jsx)(n.G,{}),centerTitle:"比較元テキスト",centerContent:(0,r.jsx)("div",{className:"flex flex-col h-full space-y-2",children:(0,r.jsx)(s.T,{className:"h-full flex-1 font-mono shadow-none focus:ring-0 dark:bg-gray-800 dark:text-gray-200",placeholder:"比較元のテキストを入力してください",value:e,onChange:e=>t(e.target.value),wrapperClassName:"flex-1",showClearButton:!0,showCopyButton:!0})}),rightTitle:"比較先テキスト",rightContent:(0,r.jsxs)("div",{className:"flex flex-col h-full space-y-2",children:[i&&(0,r.jsx)("div",{className:"pt-2 text-xs text-gray-500 dark:text-gray-400",children:"差分強調表示："}),i&&(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:i},className:"whitespace-pre-wrap break-words border border-black rounded p-2 bg-white dark:bg-black dark:border-white"}),(0,r.jsx)(s.T,{className:"h-full flex-1 font-mono shadow-none focus:ring-0 dark:bg-gray-800 dark:text-gray-200",placeholder:"比較するテキストを入力してください",value:a,onChange:e=>d(e.target.value),wrapperClassName:"flex-1",showClearButton:!0,showCopyButton:!0})]})})}},6754:(e,t,a)=>{"use strict";a.d(t,{T:()=>i});var r=a(5155),n=a(1567),s=a(8867),l=a(3920),o=a(4857),c=a(767),d=a(2115);let i=d.forwardRef((e,t)=>{var a;let{className:i,showClearButton:u=!1,showCopyButton:x=!1,showDownloadButton:h=!1,downloadFileName:p="download",downloadFileExtension:f="txt",wrapperClassName:b,value:g,onChange:m,disabled:v,...w}=e,y=void 0!==g,[N,j]=d.useState(null!==(a=w.defaultValue)&&void 0!==a?a:""),[k,C]=d.useState(!1),[_,S]=d.useState(!1),T=y?g:N,E=async()=>{if(T)try{await navigator.clipboard.writeText(T.toString()),C(!0),setTimeout(()=>C(!1),1e3)}catch(e){}};return(0,r.jsxs)("div",{className:(0,n.cn)("relative",b),children:[(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",i),ref:t,value:T,onChange:e=>{y||j(e.target.value),null==m||m(e)},disabled:v,...w}),(u||x||h)&&T&&!v&&(0,r.jsxs)("div",{className:"absolute top-2 right-2 flex gap-1 z-10",children:[x&&(0,r.jsx)("button",{type:"button",onClick:E,className:(0,n.cn)("text-gray-400 hover:text-blue-600 dark:hover:text-blue-300 p-1 rounded transition",k&&"text-green-500"),tabIndex:-1,"aria-label":"コピー",children:k?(0,r.jsx)(s.A,{className:"w-4 h-4"}):(0,r.jsx)(l.A,{className:"w-4 h-4"})}),h&&(0,r.jsx)("button",{type:"button",onClick:()=>{if(!T)return;let e=new Blob(["string"==typeof T?T:Array.isArray(T)?T.join("\n"):String(T)],{type:"text/plain;charset=utf-8"}),t=(f||"txt").replace(/^\./,""),a="".concat(p||"download",".").concat(t),r=window.URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=a,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(r),S(!0),setTimeout(()=>S(!1),1200)},className:(0,n.cn)("text-gray-400 hover:text-teal-600 dark:hover:text-teal-300 p-1 rounded transition",_&&"text-green-500"),tabIndex:-1,"aria-label":"ダウンロード（".concat(p,".").concat(f,"）"),children:_?(0,r.jsx)(s.A,{className:"w-4 h-4"}):(0,r.jsx)(o.A,{className:"w-4 h-4"})}),u&&(0,r.jsx)("button",{type:"button",onClick:()=>{y||j(""),y&&m&&m({...new Event("change"),target:{value:""}})},className:"text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 p-1 rounded",tabIndex:-1,"aria-label":"入力をクリア",children:(0,r.jsx)(c.A,{className:"w-4 h-4"})})]})]})});i.displayName="Textarea"}},e=>{var t=t=>e(e.s=t);e.O(0,[41,306,156,625,693,441,517,358],()=>t(3047)),_N_E=e.O()}]);