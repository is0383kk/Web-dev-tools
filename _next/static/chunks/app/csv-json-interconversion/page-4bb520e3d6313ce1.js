(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[765],{7336:(e,t,r)=>{Promise.resolve().then(r.bind(r,6903))},8639:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(7401).A)("arrow-left-right",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]])},1594:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(7401).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3920:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(7401).A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},6903:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var a=r(5155),s=r(2410),l=r(8002),n=r(3312),i=r(9749),o=r(6754),d=r(6693),c=r(8639),u=r(1594),f=r(8867),x=r(3920),h=r(2115);function m(e){try{let t=e.trim().split(/\r?\n/);if(t.length<2)throw Error("ヘッダー行とデータ行が必要です");let r=t[0].split(","),a=t.slice(1).map(e=>{let t=e.split(",");return r.reduce((e,r,a)=>{var s,l;return e[r.trim()]=null!==(l=null===(s=t[a])||void 0===s?void 0:s.trim())&&void 0!==l?l:"",e},{})});return JSON.stringify(a,null,2)}catch(e){throw e}}function g(){let e="name,age\n山田太郎,30\n佐藤花子,25",t=m(e),[r,g]=(0,h.useState)(!0),[p,y]=(0,h.useState)(e),[v,b]=(0,h.useState)(t),[j,N]=(0,h.useState)(""),[w,k]=(0,h.useState)(!1),A=e=>{y(e);try{let t="";t=r?m(e):function(e){try{let t=JSON.parse(e);if(Array.isArray(t)||(t=[t]),0===t.length)throw Error("データが空です");let r=Object.keys(t[0]);return[r.join(","),...t.map(e=>r.map(t=>{var r;return null!==(r=e[t])&&void 0!==r?r:""}).join(","))].join("\n")}catch(e){throw e}}(e),b(t),N("")}catch(e){b(""),N(e instanceof Error?"".concat(e.message):"")}},S=()=>{N(""),k(!1),y(v),g(e=>!e)};(0,h.useEffect)(()=>{A(p)},[r]);let C=async()=>{if(v)try{await navigator.clipboard.writeText(v),k(!0),setTimeout(()=>k(!1),1200)}catch(e){}};return(0,a.jsx)(d.A,{left:(0,a.jsx)(s.G,{}),centerTitle:(0,a.jsx)(e=>{let{title:t,align:r}=e;return(0,a.jsxs)("div",{className:"flex items-center ".concat("left"===r?"justify-between":""),children:[(0,a.jsx)("span",{className:"text-2xl font-bold mr-2",children:t}),"left"===r&&(0,a.jsxs)(n.$,{type:"button",variant:"ghost",size:"sm",className:"ml-2",onClick:S,tabIndex:0,children:[(0,a.jsx)(c.A,{className:"w-4 h-4 mr-1"}),"入れ替える"]})]})},{title:r?"CSV":"JSON",align:"left"}),centerContent:(0,a.jsxs)("div",{className:"flex flex-col h-full space-y-2",children:[j&&(0,a.jsxs)(l.Fc,{variant:"destructive",className:"dark:bg-slate-800 text-red-500",children:[(0,a.jsx)(u.A,{}),(0,a.jsx)(l.XL,{children:"変換エラー"}),(0,a.jsx)(l.TN,{children:(0,a.jsx)("p",{children:j})})]}),(0,a.jsx)(o.T,{className:"flex-1 font-mono shadow-none focus:ring-0 focus:border-gray-300 dark:focus:border-gray-600 dark:bg-gray-800 dark:text-gray-200",placeholder:r?"ここにCSVを入力（例）\nname,age\n山田太郎,30\n佐藤花子,25":'ここにJSONを入力（例）\n[{"name":"山田太郎","age":"30"},{"name":"佐藤花子","age":"25"}]\nまたは {"name":"山田太郎","age":"30"}',value:p,onChange:e=>A(e.target.value)})]}),rightTitle:r?"JSON":"CSV",rightContent:(0,a.jsxs)(i.Zp,{className:"p-4 h-full overflow-y-auto border border-border rounded-md shadow-none relative",children:[(0,a.jsxs)(n.$,{type:"button",size:"icon",variant:"outline",className:"absolute top-2 right-2 z-10",onClick:C,disabled:!v,tabIndex:0,children:[w?(0,a.jsx)(f.A,{className:"w-5 h-5 text-green-500"}):(0,a.jsx)(x.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"sr-only",children:"出力をコピー"})]}),(0,a.jsx)(o.T,{className:"w-full h-full min-h-[300px] font-mono bg-transparent resize-none outline-none border-0 focus:ring-0 focus:border-none",value:v||"",placeholder:r?"ここに変換後のJSONが表示されます":"ここに変換後のCSVが表示されます",readOnly:!0})]})})}},8002:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>o,TN:()=>c,XL:()=>d});var a=r(5155),s=r(2115),l=r(1027),n=r(1567);let i=(0,l.F)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=s.forwardRef((e,t)=>{let{className:r,variant:s,...l}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,n.cn)(i({variant:s}),r),...l})});o.displayName="Alert";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h5",{ref:t,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",r),...s})});d.displayName="AlertTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",r),...s})});c.displayName="AlertDescription"},6754:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});var a=r(5155),s=r(2115),l=r(1567);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("textarea",{className:(0,l.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...s})});n.displayName="Textarea"}},e=>{var t=t=>e(e.s=t);e.O(0,[723,243,625,693,441,517,358],()=>t(7336)),_N_E=e.O()}]);